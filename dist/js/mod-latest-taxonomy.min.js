!function(t){var e={};function o(a){if(e[a])return e[a].exports;var l=e[a]={i:a,l:!1,exports:{}};return t[a].call(l.exports,l,l.exports,o),l.l=!0,l.exports}o.m=t,o.c=e,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var l in t)o.d(a,l,function(e){return t[e]}.bind(null,l));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=3)}({3:function(t,e){jQuery(document).ready((function(t){function e(e){0===t('#modularity-sorted-by select optgroup[label="Post fields"]').length&&t("#modularity-sorted-by select").prepend('<optgroup label="Post fields">').append("</optgroup>"),t.post(ajaxurl,e,(function(e){t('#modularity-sorted-by select option[value^="_metakey_"], #modularity-sorted-by select optgroup[label="Post meta"]').remove(),e.meta_keys.length>0&&(t("#modularity-sorted-by select").append('<optgroup label="Post meta">'),t.each(e.meta_keys,(function(o,a){var l="";null!==e.curr&&(l=a.meta_key==e.curr.replace("_metakey_","")?"selected":""),t("#modularity-sorted-by select").append('<option value="_metakey_'+a.meta_key+'" '+l+">"+a.meta_key+"</option>")})),t("#modularity-sorted-by select").append("</optgroup>"))}),"json")}function o(e){t("#modularity-latest-taxonomy select").empty(),t("#modularity-latest-taxonomy .acf-label label").prepend('<span class="spinner" style="visibility: visible; float: none; margin: 0 5px 0 0;"></span>'),t.post(ajaxurl,e,(function(e){0!==e.types.length?(t.each(e.types,(function(o,a){var l="";null!==e.curr&&(l=a.name==e.curr?"selected":""),t("#modularity-latest-taxonomy select").append('<option value="'+a.name+'" '+l+">"+a.label+"</option>")})),t("#modularity-latest-taxonomy .acf-label label .spinner").remove(),a({action:"get_taxonomy_values",tax:t("#modularity-latest-taxonomy select").val(),post:modularity_current_post_id})):t("#modularity-latest-taxonomy .acf-label label .spinner").remove()}),"json")}function a(e){t("#modularity-latest-taxonomy-value select").empty(),t("#modularity-latest-taxonomy-value .acf-label label").prepend('<span class="spinner" style="visibility: visible; float: none; margin: 0 5px 0 0;"></span>'),t.post(ajaxurl,e,(function(e){t.each(e.tax,(function(o,a){var l=t.inArray(a.name.replace("&amp;","&"),e.curr)>-1?"selected":"";t("#modularity-latest-taxonomy-value select").append('<option value="'+a.name+'" '+l+">"+a.name+"</option>")})),t("#modularity-latest-taxonomy-value .acf-label label .spinner").remove()}),"json")}e({action:"get_sortable_meta_keys",posttype:t("#modularity-latest-post-type select").val(),post:modularity_current_post_id}),t("#modularity-latest-post-type select").on("change",(function(){e({action:"get_sortable_meta_keys",posttype:t(this).val(),post:modularity_current_post_id})})),o({action:"get_taxonomy_types",posttype:t("#modularity-latest-post-type select").val(),post:modularity_current_post_id}),t("#modularity-latest-post-type select").on("change",(function(){o({action:"get_taxonomy_types",posttype:t(this).val(),post:modularity_current_post_id})})),t("#modularity-latest-taxonomy select").on("change",(function(){a({action:"get_taxonomy_values",tax:t(this).val(),post:modularity_current_post_id})}))}))}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc291cmNlL3BocC9Nb2R1bGUvTGF0ZXN0L2Fzc2V0cy9tb2QtbGF0ZXN0LXRheG9ub215LmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwialF1ZXJ5IiwiZG9jdW1lbnQiLCJyZWFkeSIsIiQiLCJnZXRQb3N0TWV0YSIsImRhdGEiLCJsZW5ndGgiLCJwcmVwZW5kIiwiYXBwZW5kIiwicG9zdCIsImFqYXh1cmwiLCJyZXNwb25zZSIsInJlbW92ZSIsIm1ldGFfa2V5cyIsImVhY2giLCJpbmRleCIsIml0ZW0iLCJpc19zZWxlY3RlZCIsImN1cnIiLCJtZXRhX2tleSIsInJlcGxhY2UiLCJnZXRUYXhvbm9teVR5cGVzIiwiZW1wdHkiLCJ0eXBlcyIsImxhYmVsIiwiZ2V0VGF4b25vbXlWYWx1ZXMiLCJ2YWwiLCJtb2R1bGFyaXR5X2N1cnJlbnRfcG9zdF9pZCIsInRheCIsImluQXJyYXkiLCJvbiIsInRoaXMiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENB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TCxNQUNmLEtBQVFDIiwiZmlsZSI6ImpzL21vZC1sYXRlc3QtdGF4b25vbXkubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDMpO1xuIiwialF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoJCkge1xuXG4gICAgLyoqXG4gICAgICogUG9zdHR5cGUgTWV0YSBrZXlzXG4gICAgICovXG4gICAgZ2V0UG9zdE1ldGEoe1xuICAgICAgICAnYWN0aW9uJzogJ2dldF9zb3J0YWJsZV9tZXRhX2tleXMnLFxuICAgICAgICAncG9zdHR5cGUnOiAkKCcjbW9kdWxhcml0eS1sYXRlc3QtcG9zdC10eXBlIHNlbGVjdCcpLnZhbCgpLFxuICAgICAgICAncG9zdCc6IG1vZHVsYXJpdHlfY3VycmVudF9wb3N0X2lkXG4gICAgfSk7XG5cbiAgICAkKCcjbW9kdWxhcml0eS1sYXRlc3QtcG9zdC10eXBlIHNlbGVjdCcpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGdldFBvc3RNZXRhKHtcbiAgICAgICAgICAgICdhY3Rpb24nOiAnZ2V0X3NvcnRhYmxlX21ldGFfa2V5cycsXG4gICAgICAgICAgICAncG9zdHR5cGUnOiAkKHRoaXMpLnZhbCgpLFxuICAgICAgICAgICAgJ3Bvc3QnOiBtb2R1bGFyaXR5X2N1cnJlbnRfcG9zdF9pZFxuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGdldFBvc3RNZXRhKGRhdGEpIHtcbiAgICAgICAgaWYgKCQoJyNtb2R1bGFyaXR5LXNvcnRlZC1ieSBzZWxlY3Qgb3B0Z3JvdXBbbGFiZWw9XCJQb3N0IGZpZWxkc1wiXScpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgJCgnI21vZHVsYXJpdHktc29ydGVkLWJ5IHNlbGVjdCcpLnByZXBlbmQoJzxvcHRncm91cCBsYWJlbD1cIlBvc3QgZmllbGRzXCI+JykuYXBwZW5kKCc8L29wdGdyb3VwPicpO1xuICAgICAgICB9XG5cbiAgICAgICAgJC5wb3N0KGFqYXh1cmwsIGRhdGEsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgJCgnI21vZHVsYXJpdHktc29ydGVkLWJ5IHNlbGVjdCBvcHRpb25bdmFsdWVePVwiX21ldGFrZXlfXCJdLCAjbW9kdWxhcml0eS1zb3J0ZWQtYnkgc2VsZWN0IG9wdGdyb3VwW2xhYmVsPVwiUG9zdCBtZXRhXCJdJykucmVtb3ZlKCk7XG5cbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5tZXRhX2tleXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICQoJyNtb2R1bGFyaXR5LXNvcnRlZC1ieSBzZWxlY3QnKS5hcHBlbmQoJzxvcHRncm91cCBsYWJlbD1cIlBvc3QgbWV0YVwiPicpO1xuXG4gICAgICAgICAgICAgICAgJC5lYWNoKHJlc3BvbnNlLm1ldGFfa2V5cywgZnVuY3Rpb24gKGluZGV4LCBpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpc19zZWxlY3RlZCA9ICcnO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5jdXJyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc19zZWxlY3RlZCA9IChpdGVtLm1ldGFfa2V5ID09IHJlc3BvbnNlLmN1cnIucmVwbGFjZSgnX21ldGFrZXlfJywgJycpKSA/ICdzZWxlY3RlZCcgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICQoJyNtb2R1bGFyaXR5LXNvcnRlZC1ieSBzZWxlY3QnKS5hcHBlbmQoJzxvcHRpb24gdmFsdWU9XCJfbWV0YWtleV8nICsgaXRlbS5tZXRhX2tleSArJ1wiICcgKyBpc19zZWxlY3RlZCArICc+JyArIGl0ZW0ubWV0YV9rZXkgKyc8L29wdGlvbj4nKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICQoJyNtb2R1bGFyaXR5LXNvcnRlZC1ieSBzZWxlY3QnKS5hcHBlbmQoJzwvb3B0Z3JvdXA+Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sICdqc29uJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGF4b25vbXkgdHlwZSB1cGRhdGVcbiAgICAgKi9cbiAgICBnZXRUYXhvbm9teVR5cGVzKHtcbiAgICAgICAgJ2FjdGlvbic6ICdnZXRfdGF4b25vbXlfdHlwZXMnLFxuICAgICAgICAncG9zdHR5cGUnOiAkKCcjbW9kdWxhcml0eS1sYXRlc3QtcG9zdC10eXBlIHNlbGVjdCcpLnZhbCgpLFxuICAgICAgICAncG9zdCc6IG1vZHVsYXJpdHlfY3VycmVudF9wb3N0X2lkXG4gICAgfSk7XG5cbiAgICAkKCcjbW9kdWxhcml0eS1sYXRlc3QtcG9zdC10eXBlIHNlbGVjdCcpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGdldFRheG9ub215VHlwZXMoe1xuICAgICAgICAgICAgJ2FjdGlvbic6ICdnZXRfdGF4b25vbXlfdHlwZXMnLFxuICAgICAgICAgICAgJ3Bvc3R0eXBlJzogJCh0aGlzKS52YWwoKSxcbiAgICAgICAgICAgICdwb3N0JzogbW9kdWxhcml0eV9jdXJyZW50X3Bvc3RfaWRcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBnZXRUYXhvbm9teVR5cGVzKGRhdGEpIHtcbiAgICAgICAgJCgnI21vZHVsYXJpdHktbGF0ZXN0LXRheG9ub215IHNlbGVjdCcpLmVtcHR5KCk7XG4gICAgICAgICQoJyNtb2R1bGFyaXR5LWxhdGVzdC10YXhvbm9teSAuYWNmLWxhYmVsIGxhYmVsJykucHJlcGVuZCgnPHNwYW4gY2xhc3M9XCJzcGlubmVyXCIgc3R5bGU9XCJ2aXNpYmlsaXR5OiB2aXNpYmxlOyBmbG9hdDogbm9uZTsgbWFyZ2luOiAwIDVweCAwIDA7XCI+PC9zcGFuPicpO1xuXG4gICAgICAgICQucG9zdChhamF4dXJsLCBkYXRhLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS50eXBlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAkKCcjbW9kdWxhcml0eS1sYXRlc3QtdGF4b25vbXkgLmFjZi1sYWJlbCBsYWJlbCAuc3Bpbm5lcicpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJC5lYWNoKHJlc3BvbnNlLnR5cGVzLCBmdW5jdGlvbiAoaW5kZXgsIGl0ZW0pIHtcbiAgICAgICAgICAgICAgICB2YXIgaXNfc2VsZWN0ZWQgPSAnJztcblxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5jdXJyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzX3NlbGVjdGVkID0gKGl0ZW0ubmFtZSA9PSByZXNwb25zZS5jdXJyKSA/ICdzZWxlY3RlZCcgOiAnJztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkKCcjbW9kdWxhcml0eS1sYXRlc3QtdGF4b25vbXkgc2VsZWN0JykuYXBwZW5kKCc8b3B0aW9uIHZhbHVlPVwiJyArIGl0ZW0ubmFtZSArICdcIiAnICsgaXNfc2VsZWN0ZWQgKyAnPicgKyBpdGVtLmxhYmVsICsgJzwvb3B0aW9uPicpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICQoJyNtb2R1bGFyaXR5LWxhdGVzdC10YXhvbm9teSAuYWNmLWxhYmVsIGxhYmVsIC5zcGlubmVyJykucmVtb3ZlKCk7XG5cbiAgICAgICAgICAgIGdldFRheG9ub215VmFsdWVzKHtcbiAgICAgICAgICAgICAgICAnYWN0aW9uJzogJ2dldF90YXhvbm9teV92YWx1ZXMnLFxuICAgICAgICAgICAgICAgICd0YXgnOiAkKCcjbW9kdWxhcml0eS1sYXRlc3QtdGF4b25vbXkgc2VsZWN0JykudmFsKCksXG4gICAgICAgICAgICAgICAgJ3Bvc3QnOiBtb2R1bGFyaXR5X2N1cnJlbnRfcG9zdF9pZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sICdqc29uJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGF4b25vbXkgdmFsdWVzIHVwZGF0ZVxuICAgICAqL1xuICAgICQoJyNtb2R1bGFyaXR5LWxhdGVzdC10YXhvbm9teSBzZWxlY3QnKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBnZXRUYXhvbm9teVZhbHVlcyh7XG4gICAgICAgICAgICAnYWN0aW9uJzogJ2dldF90YXhvbm9teV92YWx1ZXMnLFxuICAgICAgICAgICAgJ3RheCc6ICQodGhpcykudmFsKCksXG4gICAgICAgICAgICAncG9zdCc6IG1vZHVsYXJpdHlfY3VycmVudF9wb3N0X2lkXG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gZ2V0VGF4b25vbXlWYWx1ZXMoZGF0YSkge1xuICAgICAgICAkKCcjbW9kdWxhcml0eS1sYXRlc3QtdGF4b25vbXktdmFsdWUgc2VsZWN0JykuZW1wdHkoKTtcbiAgICAgICAgJCgnI21vZHVsYXJpdHktbGF0ZXN0LXRheG9ub215LXZhbHVlIC5hY2YtbGFiZWwgbGFiZWwnKS5wcmVwZW5kKCc8c3BhbiBjbGFzcz1cInNwaW5uZXJcIiBzdHlsZT1cInZpc2liaWxpdHk6IHZpc2libGU7IGZsb2F0OiBub25lOyBtYXJnaW46IDAgNXB4IDAgMDtcIj48L3NwYW4+Jyk7XG5cbiAgICAgICAgJC5wb3N0KGFqYXh1cmwsIGRhdGEsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgJC5lYWNoKHJlc3BvbnNlLnRheCwgZnVuY3Rpb24gKGluZGV4LCBpdGVtKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlzX3NlbGVjdGVkID0gKCQuaW5BcnJheShpdGVtLm5hbWUucmVwbGFjZSgnJmFtcDsnLCAnJicpLCByZXNwb25zZS5jdXJyKSA+IC0xKSA/ICdzZWxlY3RlZCcgOiAnJztcbiAgICAgICAgICAgICAgICAkKCcjbW9kdWxhcml0eS1sYXRlc3QtdGF4b25vbXktdmFsdWUgc2VsZWN0JykuYXBwZW5kKCc8b3B0aW9uIHZhbHVlPVwiJyArIGl0ZW0ubmFtZSArICdcIiAnICsgaXNfc2VsZWN0ZWQgKyAnPicgKyBpdGVtLm5hbWUgKyAnPC9vcHRpb24+Jyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJCgnI21vZHVsYXJpdHktbGF0ZXN0LXRheG9ub215LXZhbHVlIC5hY2YtbGFiZWwgbGFiZWwgLnNwaW5uZXInKS5yZW1vdmUoKTtcbiAgICAgICAgfSwgJ2pzb24nKTtcbiAgICB9XG5cbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==