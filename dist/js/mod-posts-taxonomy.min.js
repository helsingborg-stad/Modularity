!function(t){var e={};function o(a){if(e[a])return e[a].exports;var l=e[a]={i:a,l:!1,exports:{}};return t[a].call(l.exports,l,l.exports,o),l.l=!0,l.exports}o.m=t,o.c=e,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var l in t)o.d(a,l,function(e){return t[e]}.bind(null,l));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=3)}({3:function(t,e){jQuery(document).ready((function(t){function e(e){0===t('#modularity-sorted-by select optgroup[label="Post fields"]').length&&t("#modularity-sorted-by select").prepend('<optgroup label="Post fields">').append("</optgroup>"),t("#modularity-latest-meta-key label, #modularity-sorted-by label").prepend('<span class="spinner" style="visibility: visible; float: none; margin: 0 5px 0 0;"></span>'),t.post(ajaxurl,e,(function(e){t('#modularity-sorted-by select option[value^="_metakey_"], #modularity-sorted-by select optgroup[label="Post meta"]').remove(),t("#modularity-latest-meta-key select").empty(),e.meta_keys.length>2&&(t("#modularity-sorted-by select").append('<optgroup label="Post meta">'),t.each(e.meta_keys,(function(o,a){var l=null!=e.sort_curr&&a.meta_key==e.sort_curr.replace("_metakey_","")?"selected":"",n=null!=e.filter_curr&&a.meta_key==e.filter_curr.replace("_metakey_","")?"selected":"";t("#modularity-sorted-by select").append('<option value="_metakey_'+a.meta_key+'" '+l+">"+a.meta_key+"</option>"),t("#modularity-latest-meta-key select").append('<option value="'+a.meta_key+'" '+n+">"+a.meta_key+"</option>")})),t("#modularity-sorted-by select").append("</optgroup>")),t("#modularity-latest-meta-key .spinner, #modularity-sorted-by .spinner").remove()}),"json")}function o(e){t("#modularity-latest-taxonomy select").empty(),t("#modularity-latest-taxonomy .acf-label label").prepend('<span class="spinner" style="visibility: visible; float: none; margin: 0 5px 0 0;"></span>'),t.post(ajaxurl,e,(function(e){0!==e.types.length?(t.each(e.types,(function(o,a){var l=a.name==e.curr?"selected":"";t("#modularity-latest-taxonomy select").append('<option value="'+a.name+'" '+l+">"+a.label+"</option>")})),t("#modularity-latest-taxonomy .acf-label label .spinner").remove(),a({action:"get_taxonomy_values_v2",tax:t("#modularity-latest-taxonomy select").val(),post:modularity_current_post_id})):t("#modularity-latest-taxonomy .acf-label label .spinner").remove()}),"json")}function a(e){t("#modularity-latest-taxonomy-value select").empty(),t("#modularity-latest-taxonomy-value .acf-label label").prepend('<span class="spinner" style="visibility: visible; float: none; margin: 0 5px 0 0;"></span>'),t.post(ajaxurl,e,(function(e){t.each(e.tax,(function(o,a){var l=a.slug==e.curr?"selected":"";t("#modularity-latest-taxonomy-value select").append('<option value="'+a.slug+'" '+l+">"+a.name+"</option>")})),t("#modularity-latest-taxonomy-value .acf-label label .spinner").remove()}),"json")}"mod-posts"===pagenow&&(e({action:"get_sortable_meta_keys_v2",posttype:t("#modularity-latest-post-type select").val(),post:modularity_current_post_id}),t("#modularity-latest-post-type select").on("change",(function(){e({action:"get_sortable_meta_keys_v2",posttype:t(this).val(),post:modularity_current_post_id})})),o({action:"get_taxonomy_types_v2",posttype:t("#modularity-latest-post-type select").val(),post:modularity_current_post_id}),t("#modularity-latest-post-type select").on("change",(function(){o({action:"get_taxonomy_types_v2",posttype:t(this).val(),post:modularity_current_post_id})})),t("#modularity-latest-taxonomy select").on("change",(function(){a({action:"get_taxonomy_values_v2",tax:t(this).val(),post:modularity_current_post_id})})))}))}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc291cmNlL3BocC9Nb2R1bGUvUG9zdHMvYXNzZXRzL21vZC1wb3N0cy10YXhvbm9teS5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImpRdWVyeSIsImRvY3VtZW50IiwicmVhZHkiLCIkIiwiZ2V0UG9zdE1ldGEiLCJkYXRhIiwibGVuZ3RoIiwicHJlcGVuZCIsImFwcGVuZCIsInBvc3QiLCJhamF4dXJsIiwicmVzcG9uc2UiLCJyZW1vdmUiLCJlbXB0eSIsIm1ldGFfa2V5cyIsImVhY2giLCJpbmRleCIsIml0ZW0iLCJzb3J0X3NlbGVjdGVkIiwic29ydF9jdXJyIiwibWV0YV9rZXkiLCJyZXBsYWNlIiwiZmlsdGVyX3NlbGVjdGVkIiwiZmlsdGVyX2N1cnIiLCJnZXRUYXhvbm9teVR5cGVzIiwidHlwZXMiLCJpc19zZWxlY3RlZCIsImN1cnIiLCJsYWJlbCIsImdldFRheG9ub215VmFsdWVzIiwidmFsIiwibW9kdWxhcml0eV9jdXJyZW50X3Bvc3RfaWQiLCJ0YXgiLCJzbHVnIiwicGFnZW5vdyIsIm9uIiwidGhpcyJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdG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QixDQUNiLE9BQVUsd0JBQ1YsU0FBWXJCLEVBQUUsdUNBQXVDMkIsTUFDckQsS0FBUUMsNkJBR1o1QixFQUFFLHVDQUF1Q2dDLEdBQUcsVUFBVSxXQUNsRFgsRUFBaUIsQ0FDYixPQUFVLHdCQUNWLFNBQVlyQixFQUFFaUMsTUFBTU4sTUFDcEIsS0FBUUMsZ0NBZ0NoQjVCLEVBQUUsc0NBQXNDZ0MsR0FBRyxVQUFVLFdBQ2pETixFQUFrQixDQUNkLE9BQVUseUJBQ1YsSUFBTzFCLEVBQUVpQyxNQUFNTixNQUNmLEtBQVFDIiwiZmlsZSI6ImpzL21vZC1wb3N0cy10YXhvbm9teS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMyk7XG4iLCJqUXVlcnkoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgkKSB7XG4gICAgaWYgKHBhZ2Vub3cgIT09ICdtb2QtcG9zdHMnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQb3N0dHlwZSBNZXRhIGtleXNcbiAgICAgKi9cbiAgICBnZXRQb3N0TWV0YSh7XG4gICAgICAgICdhY3Rpb24nOiAnZ2V0X3NvcnRhYmxlX21ldGFfa2V5c192MicsXG4gICAgICAgICdwb3N0dHlwZSc6ICQoJyNtb2R1bGFyaXR5LWxhdGVzdC1wb3N0LXR5cGUgc2VsZWN0JykudmFsKCksXG4gICAgICAgICdwb3N0JzogbW9kdWxhcml0eV9jdXJyZW50X3Bvc3RfaWRcbiAgICB9KTtcblxuICAgICQoJyNtb2R1bGFyaXR5LWxhdGVzdC1wb3N0LXR5cGUgc2VsZWN0Jykub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZ2V0UG9zdE1ldGEoe1xuICAgICAgICAgICAgJ2FjdGlvbic6ICdnZXRfc29ydGFibGVfbWV0YV9rZXlzX3YyJyxcbiAgICAgICAgICAgICdwb3N0dHlwZSc6ICQodGhpcykudmFsKCksXG4gICAgICAgICAgICAncG9zdCc6IG1vZHVsYXJpdHlfY3VycmVudF9wb3N0X2lkXG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gZ2V0UG9zdE1ldGEoZGF0YSkge1xuICAgICAgICBpZiAoJCgnI21vZHVsYXJpdHktc29ydGVkLWJ5IHNlbGVjdCBvcHRncm91cFtsYWJlbD1cIlBvc3QgZmllbGRzXCJdJykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAkKCcjbW9kdWxhcml0eS1zb3J0ZWQtYnkgc2VsZWN0JykucHJlcGVuZCgnPG9wdGdyb3VwIGxhYmVsPVwiUG9zdCBmaWVsZHNcIj4nKS5hcHBlbmQoJzwvb3B0Z3JvdXA+Jyk7XG4gICAgICAgIH1cblxuICAgICAgICAkKCcjbW9kdWxhcml0eS1sYXRlc3QtbWV0YS1rZXkgbGFiZWwsICNtb2R1bGFyaXR5LXNvcnRlZC1ieSBsYWJlbCcpLnByZXBlbmQoJzxzcGFuIGNsYXNzPVwic3Bpbm5lclwiIHN0eWxlPVwidmlzaWJpbGl0eTogdmlzaWJsZTsgZmxvYXQ6IG5vbmU7IG1hcmdpbjogMCA1cHggMCAwO1wiPjwvc3Bhbj4nKVxuXG4gICAgICAgICQucG9zdChhamF4dXJsLCBkYXRhLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICQoJyNtb2R1bGFyaXR5LXNvcnRlZC1ieSBzZWxlY3Qgb3B0aW9uW3ZhbHVlXj1cIl9tZXRha2V5X1wiXSwgI21vZHVsYXJpdHktc29ydGVkLWJ5IHNlbGVjdCBvcHRncm91cFtsYWJlbD1cIlBvc3QgbWV0YVwiXScpLnJlbW92ZSgpO1xuICAgICAgICAgICAgJCgnI21vZHVsYXJpdHktbGF0ZXN0LW1ldGEta2V5IHNlbGVjdCcpLmVtcHR5KCk7XG5cbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5tZXRhX2tleXMubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgICAgICQoJyNtb2R1bGFyaXR5LXNvcnRlZC1ieSBzZWxlY3QnKS5hcHBlbmQoJzxvcHRncm91cCBsYWJlbD1cIlBvc3QgbWV0YVwiPicpO1xuXG4gICAgICAgICAgICAgICAgJC5lYWNoKHJlc3BvbnNlLm1ldGFfa2V5cywgZnVuY3Rpb24gKGluZGV4LCBpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzb3J0X3NlbGVjdGVkID0gKHJlc3BvbnNlLnNvcnRfY3VyciAhPSBudWxsICYmIGl0ZW0ubWV0YV9rZXkgPT0gcmVzcG9uc2Uuc29ydF9jdXJyLnJlcGxhY2UoJ19tZXRha2V5XycsICcnKSkgPyAnc2VsZWN0ZWQnIDogJyc7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJfc2VsZWN0ZWQgPSAocmVzcG9uc2UuZmlsdGVyX2N1cnIgIT0gbnVsbCAmJiBpdGVtLm1ldGFfa2V5ID09IHJlc3BvbnNlLmZpbHRlcl9jdXJyLnJlcGxhY2UoJ19tZXRha2V5XycsICcnKSkgPyAnc2VsZWN0ZWQnIDogJyc7XG5cbiAgICAgICAgICAgICAgICAgICAgJCgnI21vZHVsYXJpdHktc29ydGVkLWJ5IHNlbGVjdCcpLmFwcGVuZCgnPG9wdGlvbiB2YWx1ZT1cIl9tZXRha2V5XycgKyBpdGVtLm1ldGFfa2V5ICsnXCIgJyArIHNvcnRfc2VsZWN0ZWQgKyAnPicgKyBpdGVtLm1ldGFfa2V5ICsnPC9vcHRpb24+Jyk7XG4gICAgICAgICAgICAgICAgICAgICQoJyNtb2R1bGFyaXR5LWxhdGVzdC1tZXRhLWtleSBzZWxlY3QnKS5hcHBlbmQoJzxvcHRpb24gdmFsdWU9XCInICsgaXRlbS5tZXRhX2tleSArICdcIiAnICsgZmlsdGVyX3NlbGVjdGVkICsgJz4nICsgaXRlbS5tZXRhX2tleSArICc8L29wdGlvbj4nKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICQoJyNtb2R1bGFyaXR5LXNvcnRlZC1ieSBzZWxlY3QnKS5hcHBlbmQoJzwvb3B0Z3JvdXA+Jyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICQoJyNtb2R1bGFyaXR5LWxhdGVzdC1tZXRhLWtleSAuc3Bpbm5lciwgI21vZHVsYXJpdHktc29ydGVkLWJ5IC5zcGlubmVyJykucmVtb3ZlKCk7XG4gICAgICAgIH0sICdqc29uJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGF4b25vbXkgdHlwZSB1cGRhdGVcbiAgICAgKi9cbiAgICBnZXRUYXhvbm9teVR5cGVzKHtcbiAgICAgICAgJ2FjdGlvbic6ICdnZXRfdGF4b25vbXlfdHlwZXNfdjInLFxuICAgICAgICAncG9zdHR5cGUnOiAkKCcjbW9kdWxhcml0eS1sYXRlc3QtcG9zdC10eXBlIHNlbGVjdCcpLnZhbCgpLFxuICAgICAgICAncG9zdCc6IG1vZHVsYXJpdHlfY3VycmVudF9wb3N0X2lkXG4gICAgfSk7XG5cbiAgICAkKCcjbW9kdWxhcml0eS1sYXRlc3QtcG9zdC10eXBlIHNlbGVjdCcpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGdldFRheG9ub215VHlwZXMoe1xuICAgICAgICAgICAgJ2FjdGlvbic6ICdnZXRfdGF4b25vbXlfdHlwZXNfdjInLFxuICAgICAgICAgICAgJ3Bvc3R0eXBlJzogJCh0aGlzKS52YWwoKSxcbiAgICAgICAgICAgICdwb3N0JzogbW9kdWxhcml0eV9jdXJyZW50X3Bvc3RfaWRcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBnZXRUYXhvbm9teVR5cGVzKGRhdGEpIHtcbiAgICAgICAgJCgnI21vZHVsYXJpdHktbGF0ZXN0LXRheG9ub215IHNlbGVjdCcpLmVtcHR5KCk7XG4gICAgICAgICQoJyNtb2R1bGFyaXR5LWxhdGVzdC10YXhvbm9teSAuYWNmLWxhYmVsIGxhYmVsJykucHJlcGVuZCgnPHNwYW4gY2xhc3M9XCJzcGlubmVyXCIgc3R5bGU9XCJ2aXNpYmlsaXR5OiB2aXNpYmxlOyBmbG9hdDogbm9uZTsgbWFyZ2luOiAwIDVweCAwIDA7XCI+PC9zcGFuPicpO1xuXG4gICAgICAgICQucG9zdChhamF4dXJsLCBkYXRhLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS50eXBlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAkKCcjbW9kdWxhcml0eS1sYXRlc3QtdGF4b25vbXkgLmFjZi1sYWJlbCBsYWJlbCAuc3Bpbm5lcicpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJC5lYWNoKHJlc3BvbnNlLnR5cGVzLCBmdW5jdGlvbiAoaW5kZXgsIGl0ZW0pIHtcbiAgICAgICAgICAgICAgICB2YXIgaXNfc2VsZWN0ZWQgPSAoaXRlbS5uYW1lID09IHJlc3BvbnNlLmN1cnIpID8gJ3NlbGVjdGVkJyA6ICcnO1xuICAgICAgICAgICAgICAgICQoJyNtb2R1bGFyaXR5LWxhdGVzdC10YXhvbm9teSBzZWxlY3QnKS5hcHBlbmQoJzxvcHRpb24gdmFsdWU9XCInICsgaXRlbS5uYW1lKyAnXCIgJyArIGlzX3NlbGVjdGVkICsgJz4nICsgaXRlbS5sYWJlbCArICc8L29wdGlvbj4nKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkKCcjbW9kdWxhcml0eS1sYXRlc3QtdGF4b25vbXkgLmFjZi1sYWJlbCBsYWJlbCAuc3Bpbm5lcicpLnJlbW92ZSgpO1xuXG4gICAgICAgICAgICBnZXRUYXhvbm9teVZhbHVlcyh7XG4gICAgICAgICAgICAgICAgJ2FjdGlvbic6ICdnZXRfdGF4b25vbXlfdmFsdWVzX3YyJyxcbiAgICAgICAgICAgICAgICAndGF4JzogJCgnI21vZHVsYXJpdHktbGF0ZXN0LXRheG9ub215IHNlbGVjdCcpLnZhbCgpLFxuICAgICAgICAgICAgICAgICdwb3N0JzogbW9kdWxhcml0eV9jdXJyZW50X3Bvc3RfaWRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCAnanNvbicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRheG9ub215IHZhbHVlcyB1cGRhdGVcbiAgICAgKi9cbiAgICAkKCcjbW9kdWxhcml0eS1sYXRlc3QtdGF4b25vbXkgc2VsZWN0Jykub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZ2V0VGF4b25vbXlWYWx1ZXMoe1xuICAgICAgICAgICAgJ2FjdGlvbic6ICdnZXRfdGF4b25vbXlfdmFsdWVzX3YyJyxcbiAgICAgICAgICAgICd0YXgnOiAkKHRoaXMpLnZhbCgpLFxuICAgICAgICAgICAgJ3Bvc3QnOiBtb2R1bGFyaXR5X2N1cnJlbnRfcG9zdF9pZFxuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGdldFRheG9ub215VmFsdWVzKGRhdGEpIHtcbiAgICAgICAgJCgnI21vZHVsYXJpdHktbGF0ZXN0LXRheG9ub215LXZhbHVlIHNlbGVjdCcpLmVtcHR5KCk7XG4gICAgICAgICQoJyNtb2R1bGFyaXR5LWxhdGVzdC10YXhvbm9teS12YWx1ZSAuYWNmLWxhYmVsIGxhYmVsJykucHJlcGVuZCgnPHNwYW4gY2xhc3M9XCJzcGlubmVyXCIgc3R5bGU9XCJ2aXNpYmlsaXR5OiB2aXNpYmxlOyBmbG9hdDogbm9uZTsgbWFyZ2luOiAwIDVweCAwIDA7XCI+PC9zcGFuPicpO1xuXG4gICAgICAgICQucG9zdChhamF4dXJsLCBkYXRhLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICQuZWFjaChyZXNwb25zZS50YXgsIGZ1bmN0aW9uIChpbmRleCwgaXRlbSkge1xuICAgICAgICAgICAgICAgIHZhciBpc19zZWxlY3RlZCA9IChpdGVtLnNsdWcgPT0gcmVzcG9uc2UuY3VycikgPyAnc2VsZWN0ZWQnIDogJyc7XG4gICAgICAgICAgICAgICAgJCgnI21vZHVsYXJpdHktbGF0ZXN0LXRheG9ub215LXZhbHVlIHNlbGVjdCcpLmFwcGVuZCgnPG9wdGlvbiB2YWx1ZT1cIicgKyBpdGVtLnNsdWcgKyAnXCIgJyArIGlzX3NlbGVjdGVkICsgJz4nICsgaXRlbS5uYW1lICsgJzwvb3B0aW9uPicpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICQoJyNtb2R1bGFyaXR5LWxhdGVzdC10YXhvbm9teS12YWx1ZSAuYWNmLWxhYmVsIGxhYmVsIC5zcGlubmVyJykucmVtb3ZlKCk7XG4gICAgICAgIH0sICdqc29uJyk7XG4gICAgfVxuXG59KTtcbiJdLCJzb3VyY2VSb290IjoiIn0=